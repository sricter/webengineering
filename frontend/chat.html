<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/x-icon" href="DHBW-Logo2.png">
  <title>DHBW-Chat</title>
</head>
<body>
    <div class="logo">
      <img src="DHBW-Logo2.png" width="420" height="100"  >
    </div>
    <div class="connected-users-box">
      <ul id="connectedUsers">Verbundene User:</ul>
    </div>
    <div class="chat-container">
      <div class="chat-box"> <!-- hier werden die Nachrichten angezeigt-->
      </div>
      <div class="text-box"> 
          <form id="chat-message-form">
              <input
                class="insertbox"
                id="chatmessage"
                type="text"
                placeholder="Nachricht eingeben"
                required
                autocomplete="off"
              />
              <button class="btn">Nachricht senden</button>
            </form>
            <button onclick="showSmileyBtn()">Smiley</button>
            <!-- Smilies anzeigen und mit onclick zu js Funktion verlinken -->
            <div id="smiley-div" class="smiley-box hidden"> 
              <div class="smiley" onclick="addSmiley(this.innerHTML)">😀</div>
              <div class="smiley" onclick="addSmiley(this.innerHTML)">😴</div>
              <div class="smiley" onclick="addSmiley(this.innerHTML)">😎</div>
              <div class="smiley" onclick="addSmiley(this.innerHTML)">😭</div>
              <div class="smiley" onclick="addSmiley(this.innerHTML)">😂</div>
              <div class="smiley" onclick="addSmiley(this.innerHTML)">😍</div>
              <div class="smiley" onclick="addSmiley(this.innerHTML)">😈</div>
              <div class="smiley" onclick="addSmiley(this.innerHTML)">😼</div>
              <div class="smiley" onclick="addSmiley(this.innerHTML)">🙈</div>
            </div>
      </div>
      <div class="typing-users-box">
          <ul style="list-style: none;" id="typingUsers"></ul>
      </div>
    </div>

  <!-- Socket io in Frontend verwenden-->
  <script>
  // Smiley in Inputfeld übertragen
  function addSmiley(smiley) {
    chatmessage.value += smiley;
  }
  
  // Smiley Leiste ein und ausblenden
  function showSmileyBtn() {
    let smiley_div = document.getElementById('smiley-div');
    if (smiley_div.classList.contains('hidden')) {
      smiley_div.classList.remove('hidden');
    } 
    else {
      smiley_div.classList.add('hidden');
    }
  }
  </script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="main.js"></script>
</body>
</html>